# 问题记录

## 概述

本文档记录移植过程中遇到的问题、解决方案和待办事项。

---

## 问题等级定义

| 等级 | 说明 |
|------|------|
| 🔴 Critical | 阻塞开发，必须立即解决 |
| 🟠 Major | 影响功能，需要优先处理 |
| 🟡 Minor | 小问题，可以稍后处理 |
| 🟢 Resolved | 已解决 |

---

## 当前问题

### 🟡 Minor-001: NGUI图集需要重新切片

**描述**：Unity项目使用NGUI图集，需要在Cocos中重新处理。

**影响模块**：所有UI模块

**解决方案**：
1. 从Unity图集中导出单张图片
2. 在Cocos中使用Auto Atlas重新打包
3. 或使用TexturePacker生成新图集

**状态**：待处理

---

### 🟡 Minor-002: 动画需要手动重建

**描述**：Unity的Animator Controller无法直接导入Cocos。

**影响模块**：Menu、Farm、Store等有动画的模块

**解决方案**：
1. 分析Unity动画参数
2. 在Cocos中使用Animation组件重建
3. 复杂动画考虑使用代码实现（Tween）

**状态**：待处理

---

### 🟡 Minor-003: OGG音频需要转换

**描述**：部分音效使用OGG格式，Web平台兼容性不佳。

**影响模块**：Audio系统

**解决方案**：
1. 使用FFmpeg批量转换为MP3
2. 命令：`ffmpeg -i input.ogg -acodec libmp3lame output.mp3`

**状态**：待处理

---

## 已解决问题

### 🟢 Resolved-001: 项目框架选型

**描述**：需要选择合适的Cocos框架

**解决方案**：采用Oops Framework，提供ECS架构和完善的模块系统

**解决日期**：2025-01-03

---

### 🟢 Resolved-002: 启动流程实现

**描述**：需要实现Logo → Loading → Menu流程

**解决方案**：使用预制体 + AsyncQueue实现顺序加载

**解决日期**：2025-01-03

---

## 待办事项（TODO）

### 代码中的TODO标记

| 文件 | 行号 | 说明 | 优先级 |
|------|------|------|--------|
| - | - | 暂无 | - |

---

## 技术债务

| 项目 | 说明 | 计划处理时间 |
|------|------|-------------|
| XML配置转换 | 需要将50+个XML转为JSON/Excel | Sprint 1 |
| 图片资源整理 | 需要重命名和分类 | Sprint 1-2 |
| 音频格式转换 | OGG转MP3 | Sprint 1 |

---

## 问题模板

```markdown
### 🟡 Minor-XXX: 问题标题

**描述**：问题的详细描述

**影响模块**：受影响的模块

**复现步骤**：（如适用）
1. 步骤1
2. 步骤2
3. 步骤3

**期望行为**：应该发生什么

**实际行为**：实际发生了什么

**解决方案**：
1. 方案1
2. 方案2

**状态**：待处理 / 处理中 / 已解决

**负责人**：（可选）

**解决日期**：（已解决时填写）
```

---

*最后更新：2025-01-07*
